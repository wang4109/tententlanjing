{"version":3,"sources":["webpack:///./src/views/templet/templetList.vue?7aad","webpack:///src/views/templet/templetList.vue","webpack:///./src/views/templet/templetList.vue?a3fc","webpack:///./src/views/templet/templetList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","form-type","model","formData","label","staticStyle","width","searchable","value","callback","$$v","$set","expression","_l","option","key","bk_biz_id","id","bk_biz_name","name","placeholder","staticClass","theme","title","icon","on","click","$event","fetchTaskList","_v","$router","push","margin-top","data","size","stripe","pagination","page-change","handlePageChange","page-limit-change","handlePageLimitChange","type","align","prop","scopedSlots","_u","fn","props","border","visiable2","formData2","row","templetName","task","business","dowmload","templetUrl","visiable","delId","row_index","render-directive","mask-close","show-mask","header-position","confirm","remove","position","top","ref","rules","required","property","disabled","staticRenderFns","templetListvue_type_script_lang_js_","components","uuid","message","trigger","taskList","typeList","current","count","limit","mounted","fetchBusinessList","fetchTypeList","methods","_fetchBusinessList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_ref","status","wrap","_context","prev","next","templet","sent","test","info","stop","apply","arguments","_fetchTypeList","_callee2","_ref2","_context2","index","page","_fetchTaskList","_callee3","opt","def","_ref3","_context3","objectSpread","total","task_list","_x","_this","pk","then","res","$bkInfo","showFooter","indexOf","splice","url","a","document","createElement","href","types","download","templet_templetListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/static/js/chunk-2d0af81b.a78f7967.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('bk-form',{attrs:{\"form-type\":\"inline\",\"model\":_vm.formData}},[_c('bk-form-item',{attrs:{\"label\":\"业务名称\"}},[_c('bk-select',{staticStyle:{\"width\":\"120px\"},attrs:{\"searchable\":\"\"},model:{value:(_vm.formData.task),callback:function ($$v) {_vm.$set(_vm.formData, \"task\", $$v)},expression:\"formData.task\"}},_vm._l((_vm.taskList),function(option){return _c('bk-option',{key:option.bk_biz_id,attrs:{\"id\":option.bk_biz_name,\"name\":option.bk_biz_name}})}),1)],1),_c('bk-form-item',{attrs:{\"label\":\"模板类型\"}},[_c('bk-select',{staticStyle:{\"width\":\"120px\"},attrs:{\"searchable\":\"\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.typeList),function(option){return _c('bk-option',{key:option.id,attrs:{\"id\":option.id,\"name\":option.name}})}),1)],1),_c('bk-form-item',{attrs:{\"label\":\"模板名称\"}},[_c('bk-input',{attrs:{\"placeholder\":\"名称\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('bk-form-item',[_c('bk-button',{staticClass:\"mr5\",attrs:{\"theme\":\"default\",\"title\":\"新增\",\"icon\":\"bk-icon icon-search\"},on:{\"click\":function($event){return _vm.fetchTaskList()}}},[_vm._v(\"搜索\")]),_c('bk-button',{attrs:{\"theme\":\"primary\",\"title\":\"新增\",\"icon\":\"plus\"},on:{\"click\":function($event){return _vm.$router.push({name:'templetWrite'})}}},[_vm._v(\"新增\")])],1)],1),_c('bk-table',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"data\":_vm.data,\"size\":_vm.size,\"stripe\":true,\"pagination\":_vm.pagination},on:{\"page-change\":_vm.handlePageChange,\"page-limit-change\":_vm.handlePageLimitChange}},[_c('bk-table-column',{attrs:{\"type\":\"index\",\"label\":\"序列\",\"align\":\"center\",\"width\":\"60\"}}),_c('bk-table-column',{attrs:{\"label\":\"模板名称\",\"prop\":\"templetName\"}}),_c('bk-table-column',{attrs:{\"label\":\"业务名称\",\"prop\":\"business\"}}),_c('bk-table-column',{attrs:{\"label\":\"模板类型\",\"prop\":\"type\"}}),_c('bk-table-column',{attrs:{\"label\":\"创建者\",\"prop\":\"user\"}}),_c('bk-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"createTime\"}}),_c('bk-table-column',{attrs:{\"label\":\"更新者\",\"prop\":\"updateUser\"}}),_c('bk-table-column',{attrs:{\"label\":\"更新时间\",\"prop\":\"updateTime\"}}),_c('bk-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('bk-button',{staticClass:\"mr3\",staticStyle:{\"border\":\"0\"},attrs:{\"icon\":\"bk-icon icon-cog-shape\"},on:{\"click\":function($event){_vm.visiable2 = true;_vm.formData2.type=props.row.type;_vm.formData2.name=props.row.templetName;_vm.formData2.task=props.row.business;}}}),_c('bk-button',{staticClass:\"mr3\",staticStyle:{\"border\":\"0\"},attrs:{\"icon\":\"bk-icon icon-download\"},on:{\"click\":function($event){return _vm.dowmload(props.row.templetUrl)}}}),_c('bk-button',{staticClass:\"mr3\",staticStyle:{\"border\":\"0\"},attrs:{\"icon\":\"bk-icon icon-close\"},on:{\"click\":function($event){_vm.visiable = true;_vm.delId = props.row.id;_vm.row_index = props.row}}})]}}])}),_c('bk-dialog',{attrs:{\"render-directive\":'if',\"mask-close\":false,\"show-mask\":false,\"header-position\":'left',\"title\":\"删除确认\"},on:{\"confirm\":function($event){return _vm.remove()}},model:{value:(_vm.visiable),callback:function ($$v) {_vm.visiable=$$v},expression:\"visiable\"}},[_vm._v(\"\\n        该模板将被删除，操作确认？\\n    \")]),_c('bk-dialog',{attrs:{\"title\":\"创建代办任务\",\"header-position\":'center',\"width\":500,\"position\":{top:100}},model:{value:(_vm.visiable2),callback:function ($$v) {_vm.visiable2=$$v},expression:\"visiable2\"}},[_c('bk-form',{ref:\"validateForm\",attrs:{\"model\":_vm.formData2,\"rules\":_vm.rules}},[_c('bk-form-item',{attrs:{\"label\":\"业务名称\",\"required\":true,\"property\":'task'}},[_c('bk-input',{attrs:{\"disabled\":true},model:{value:(_vm.formData2.task),callback:function ($$v) {_vm.$set(_vm.formData2, \"task\", $$v)},expression:\"formData2.task\"}})],1),_c('bk-form-item',{attrs:{\"label\":\"模板类型\",\"required\":true,\"property\":'type'}},[_c('bk-input',{attrs:{\"disabled\":true},model:{value:(_vm.formData2.type),callback:function ($$v) {_vm.$set(_vm.formData2, \"type\", $$v)},expression:\"formData2.type\"}})],1),_c('bk-form-item',{attrs:{\"label\":\"模板名称\",\"required\":true,\"property\":'name'}},[_c('bk-input',{attrs:{\"disabled\":true},model:{value:(_vm.formData2.name),callback:function ($$v) {_vm.$set(_vm.formData2, \"name\", $$v)},expression:\"formData2.name\"}})],1),_c('bk-form-item',{attrs:{\"label\":\"操作识别号\",\"required\":true,\"property\":'uuid'}},[_c('bk-input',{attrs:{\"placeholder\":\"全局唯一的待办操作识别号\"},model:{value:(_vm.formData2.uuid),callback:function ($$v) {_vm.$set(_vm.formData2, \"uuid\", $$v)},expression:\"formData2.uuid\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <bk-form form-type=\"inline\" :model=\"formData\" >\r\n            <bk-form-item label=\"业务名称\" >\r\n                <bk-select v-model=\"formData.task\" searchable style=\"width:120px\">\r\n                    <bk-option v-for=\"option in taskList\"\r\n                        :key=\"option.bk_biz_id\"\r\n                        :id=\"option.bk_biz_name\"\r\n                        :name=\"option.bk_biz_name\">\r\n                    </bk-option>\r\n                </bk-select>\r\n            </bk-form-item>\r\n            <bk-form-item label=\"模板类型\">\r\n                <bk-select v-model=\"formData.type\" searchable style=\"width:120px\">\r\n                    <bk-option v-for=\"option in typeList\"\r\n                        :key=\"option.id\"\r\n                        :id=\"option.id\"\r\n                        :name=\"option.name\">\r\n                    </bk-option>\r\n                </bk-select>\r\n            </bk-form-item>\r\n            <bk-form-item label=\"模板名称\">\r\n                <bk-input placeholder=\"名称\" v-model=\"formData.name\"></bk-input>\r\n            </bk-form-item>\r\n            <bk-form-item>\r\n                <bk-button theme=\"default\" title=\"新增\" icon=\"bk-icon icon-search\" @click=\"fetchTaskList()\" class=\"mr5\">搜索</bk-button>\r\n                <bk-button theme=\"primary\" title=\"新增\" icon=\"plus\" @click=\"$router.push({name:'templetWrite'})\">新增</bk-button>\r\n            </bk-form-item>\r\n        </bk-form>\r\n        <bk-table style=\"margin-top: 15px;\"\r\n            :data=\"data\"\r\n            :size=\"size\"\r\n            :stripe=\"true\"\r\n            :pagination=\"pagination\"\r\n            @page-change=\"handlePageChange\"\r\n            @page-limit-change=\"handlePageLimitChange\">\r\n            <!-- <bk-table-column type=\"selection\" width=\"60\" align=\"center\"></bk-table-column> -->\r\n            <bk-table-column type=\"index\" label=\"序列\" align=\"center\" width=\"60\"></bk-table-column>\r\n            <bk-table-column label=\"模板名称\" prop=\"templetName\"></bk-table-column>\r\n            <bk-table-column label=\"业务名称\" prop=\"business\"></bk-table-column>\r\n            <bk-table-column label=\"模板类型\" prop=\"type\"></bk-table-column>\r\n            <bk-table-column label=\"创建者\" prop=\"user\"></bk-table-column>\r\n            <bk-table-column label=\"创建时间\" prop=\"createTime\" ></bk-table-column>\r\n            <bk-table-column label=\"更新者\" prop=\"updateUser\"></bk-table-column>\r\n            <bk-table-column label=\"更新时间\" prop=\"updateTime\" ></bk-table-column>\r\n            <bk-table-column label=\"操作\" width=\"150\">\r\n                <template slot-scope=\"props\">\r\n                    <bk-button style=\"border:0\"  icon=\"bk-icon icon-cog-shape\"  class=\"mr3\" @click=\"visiable2 = true;formData2.type=props.row.type;formData2.name=props.row.templetName;formData2.task=props.row.business;\"></bk-button>\r\n                    <bk-button style=\"border:0\"  icon=\"bk-icon icon-download\"  class=\"mr3\" @click=\"dowmload(props.row.templetUrl)\"></bk-button>\r\n                    <bk-button style=\"border:0\"  icon=\"bk-icon icon-close\"  class=\"mr3\" @click=\"visiable = true;delId = props.row.id;row_index = props.row\"></bk-button>\r\n                </template>\r\n            </bk-table-column>\r\n        <bk-dialog v-model=\"visiable\"\r\n            :render-directive=\"'if'\"\r\n            :mask-close=\"false\"\r\n            :show-mask=\"false\"\r\n            :header-position=\"'left'\"\r\n            @confirm=\"remove()\"\r\n            title=\"删除确认\">\r\n            该模板将被删除，操作确认？\r\n        </bk-dialog>\r\n         <bk-dialog v-model=\"visiable2\" title=\"创建代办任务\"\r\n        :header-position=\"'center'\" \r\n        :width=\"500\"\r\n        :position=\"{top:100}\"\r\n        >\r\n        <bk-form  :model=\"formData2\" :rules=\"rules\" ref=\"validateForm\">\r\n            <bk-form-item label=\"业务名称\" :required=\"true\" :property=\"'task'\">\r\n                <bk-input :disabled=\"true\" v-model=\"formData2.task\" ></bk-input>\r\n            </bk-form-item>\r\n            <bk-form-item label=\"模板类型\" :required=\"true\" :property=\"'type'\">\r\n                <bk-input :disabled=\"true\" v-model=\"formData2.type\" ></bk-input>\r\n            </bk-form-item>\r\n            <bk-form-item label=\"模板名称\" :required=\"true\" :property=\"'name'\">\r\n                <bk-input :disabled=\"true\" v-model=\"formData2.name\" ></bk-input>\r\n            </bk-form-item>\r\n            <bk-form-item label=\"操作识别号\" :required=\"true\" :property=\"'uuid'\">\r\n                <bk-input  v-model=\"formData2.uuid\" placeholder=\"全局唯一的待办操作识别号\"></bk-input>\r\n            </bk-form-item>\r\n        </bk-form>\r\n        </bk-dialog>\r\n        </bk-table>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { getBusinessList,getTypeList,getTempletList,delTemplet} from '../../services/templet';\r\n\r\n    import * as type from '../../store/types';\r\n    export default {\r\n        components: {\r\n        },\r\n        data () {\r\n            return {\r\n                size: 'small',\r\n                delId: 0,visiable: false,row_index:-1,\r\n                visiable2: false,\r\n                data: [],\r\n                formData: {\r\n                    name: '',\r\n                    type: '',\r\n                    task: '',\r\n                },\r\n                formData2: {\r\n                    name: '',\r\n                    type: '',\r\n                    task: '',\r\n                    uuid: '',\r\n                },\r\n                rules: {\r\n                    uuid: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入操作识别码',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                },\r\n                taskList:[],\r\n                typeList:[],\r\n                pagination: {\r\n                    current: 1,\r\n                    count: 1,\r\n                    limit: 20\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            this.fetchTaskList();\r\n            this.fetchBusinessList();\r\n            this.fetchTypeList();\r\n        },\r\n        methods: {\r\n            async fetchBusinessList() {\r\n                const { data, status } = await getBusinessList();\r\n                if (/20\\d/.test(status)) {\r\n                    this.taskList=data.data.info\r\n                }\r\n            },\r\n            async fetchTypeList() {\r\n                const { data, status } = await getTypeList();\r\n                if (/20\\d/.test(status)) {\r\n                    this.typeList=data.data\r\n                }\r\n            },\r\n            handlePageLimitChange (index) {\r\n                this.fetchTaskList({size:index})\r\n            },\r\n            handlePageChange (page) {\r\n                this.pagination.current = page\r\n                this.fetchTaskList({page:page})\r\n            },\r\n            async fetchTaskList(opt) {\r\n                let def = {\r\n                    page: 1,\r\n                    size: 10,\r\n                    type: this.formData.type,\r\n                    business: this.formData.task,\r\n                    name:this.formData.name\r\n                };\r\n                def = { ...def, ...opt };\r\n                const { data, status } = await getTempletList(def);\r\n                if (/20\\d/.test(status)) {\r\n                    this.pagination.current = data.data.page;\r\n                    this.pagination.limit = data.data.size;\r\n                    this.pagination.count = data.data.total;\r\n                    this.data = data.data.task_list;\r\n                }\r\n            },\r\n            remove () {\r\n                if(this.delId){\r\n                    delTemplet({'pk':this.delId}).then(res=>{\r\n                        if (res.status && /20\\d/.test(res.status)) {\r\n                            if (res.data.status){\r\n                                this.$bkInfo({\r\n                                type: 'success',\r\n                                title: res.data.message,\r\n                                showFooter: false,\r\n                                })\r\n                                const index = this.data.indexOf(this.row_index)\r\n                                if (index !== -1) {\r\n                                    this.data.splice(index, 1)\r\n                                }\r\n                            }else{\r\n                                this.$bkInfo({\r\n                                type: 'error',\r\n                                title: res.data.message,\r\n                                showFooter: false,\r\n                                })\r\n                            }\r\n                            \r\n                        }\r\n                    })  \r\n                }\r\n                \r\n                \r\n            },\r\n            dowmload (url) {\r\n                let a = document.createElement('a')\r\n                a.href =type.GET_API_URL+url\r\n                a.download = \"demo\"\r\n                a.click();\r\n            },\r\n\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templetList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templetList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./templetList.vue?vue&type=template&id=7ef4f11f&\"\nimport script from \"./templetList.vue?vue&type=script&lang=js&\"\nexport * from \"./templetList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}